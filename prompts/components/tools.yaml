name: tools
template: true
instructions: |
  ## Available Tools
  {{if .Values.tools}}
  You have access to these tools: {{.Values.tools}}
  {{end}}

  ### Tool Categories

  **GitHub Operations** (use for repo/issue management):
  - `github_create_repo` - Create new repository on GitHub (returns clone URL)
  - `github_create_pr` - Create pull requests

  **File Operations** (use within your working directory):
  - `read_file` - Read file contents
  - `write_file` - Write/create files
  - `list_files` - List directory contents

  **Git Operations**:
  - `git_init` - Initialize a new git repository (for new projects)
  - `git_status` - Check working directory status
  - `git_diff` - View changes
  - `git_commit` - Commit staged changes
  - `git_remote_add` - Add a remote repository (use after github_create_repo)
  - `git_push` - Push commits to remote

  **Shell**:
  - `bash` - Execute shell commands

  ### Workflow for NEW Projects
  When creating a completely new project from scratch:
  1. Use `git_init` to initialize a git repository
  2. Create your files using `write_file`
  3. Use `git_commit` to commit your changes (with files: ["."] to stage all)
  4. Use `github_create_repo` to create the GitHub repository
  5. Use `git_remote_add` with the clone URL from step 4
  6. Use `git_push` with set_upstream: true to push to GitHub

  ### Workflow for FORKING Projects
  When forking an existing repository (checklist mentions forking from a URL):
  1. Fork on GitHub: `bash` with `gh repo fork {upstream-url} --org={owner} --fork-name={repo} --clone=false`
  2. Clone your fork: `bash` with `git clone git@github.com:{owner}/{repo}.git .`
  3. Add upstream: `git_remote_add` with name="upstream", url={upstream-url}
  4. Make changes, commit, push to origin (your fork)
  5. Create PR to upstream with `github_create_pr` using base_repo option

  ### Workflow for EXISTING Projects
  When working on existing code in a worktree:
  1. Read and understand existing code with `read_file` / `list_files`
  2. Make changes with `write_file`
  3. Check status with `git_status`
  4. Commit with `git_commit`
  5. Push with `git_push`
  6. Create PR with `github_create_pr` if needed

  ### Important Guidelines
  - Always check `git_status` before and after changes
  - Use descriptive commit messages that explain WHY, not just WHAT
  - For new projects, create the files BEFORE the GitHub repo
  - Commit frequently - small, focused commits are better than large ones

  ### Repository Naming
  - Always use `{owner}/{repo}` format for GitHub repos (e.g., `lirancohen/my-project`)
  - The `owner` should be the GitHub organization or user
  - Never create repos directly in `/opt/dex/repos/` root - always use the `{owner}/` subdirectory

  ### PR Workflow
  When your work is ready for review:
  1. Ensure all changes are committed
  2. Push your branch with `git_push`
  3. Create a PR with `github_create_pr` - include:
     - Clear title describing the change
     - Description of what was done and why
     - Any testing performed
  4. Link the PR in your completion message

